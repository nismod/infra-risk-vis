import { useRecoilState } from 'recoil';

import { ParamChecklist } from '@/lib/controls/params/ParamChecklist';

import { PROTECTED_AREA_COLORS, PROTECTED_AREA_LABELS, ProtectedAreaType } from '@/config/protected-areas/metadata';
import { LayerLabel } from '@/sidebar/ui/LayerLabel';
import { protectedAreaTypeSelectionState } from '@/state/data-selection/protected-areas';

export const WdpaControls = () => {
  const [checklistState, setChecklistState] = useRecoilState(protectedAreaTypeSelectionState);
  return (
    <ParamChecklist<ProtectedAreaType>
      title="Protected Areas"
      checklistState={checklistState}
      onChecklistState={setChecklistState}
      options={PROTECTED_AREA_LABELS}
      renderLabel={(type, label) => <LayerLabel color={PROTECTED_AREA_COLORS[type].css} type="polygon" label={label} />}
    />
  );
};
