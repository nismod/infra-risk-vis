import { useRecoilState } from 'recoil';

import { ParamChecklist } from '@/lib/controls/params/ParamChecklist';
import { ValueLabel } from '@/lib/controls/params/value-label';

import { NATURE_RASTER_VALUE_LABELS } from '@/config/natural-assets/metadata';
import {
  NaturalVulnerabilityType,
  natureVulnerabilitySelectionState,
} from '@/state/data-selection/nature-vulnerability';

const NATURE_VULNERABILITY_OPTIONS = NATURE_RASTER_VALUE_LABELS.filter(
  (x) => x.value !== 'organic_carbon',
) as ValueLabel<NaturalVulnerabilityType>[];

export const NatureVulnerabilityControl = () => {
  const [checklistState, setChecklistState] = useRecoilState(natureVulnerabilitySelectionState);

  return (
    <ParamChecklist<NaturalVulnerabilityType>
      title={null}
      options={NATURE_VULNERABILITY_OPTIONS}
      checklistState={checklistState}
      onChecklistState={setChecklistState}
      renderLabel={(key, label) => <>{label}</>}
      showAllNone={false}
    />
  );
};
